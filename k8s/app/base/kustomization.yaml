apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- deployment-config.yaml
- ingress.yaml
- services.yaml
namespace: argo-rollouts
commonLabels:
  app: todo-app-kn000131
  group: todo-app
  template-compiler: kustomize
configurations:
- varconfig.yaml
vars:
- name: SERVICE_NAME
  fieldref:
    fieldPath: metadata.name
  objref:
    apiVersion: v1
    kind: Service
    name: todo-app-kn000131
- name: NAMESPACE
  fieldref:
    fieldPath: metadata.namespace
  objref:
    apiVersion: apps/v1
    kind: Deployment
    name: todo-app-kn000131
